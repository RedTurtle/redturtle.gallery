{
  "version": 3,
  "sources": [
    "js/integration.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "bundle-compiled.js",
  "sourcesContent": [
    "require(['jquery'], function($) {\n  'use strict';\n\n  function updateTabIndex() {\n    setTimeout(function() {\n      $('.slick-current.slick-active').attr('tabindex', '0');\n    }, 300);\n  }\n  function modalAccessibility() {\n    var inputs = $('.gallery-modal-wrapper').find(\n      'select, input, textarea, button:not(.gallery-modal-close), a'\n    );\n    var firstInput = inputs.first();\n    var lastInput = inputs.last();\n    var closeInput = $('.gallery-modal-close').first();\n\n    var dots = $('.gallery-modal .slick-dots');\n\n    if (dots.length) {\n      dots.attr('aria-hidden', true);\n    }\n    updateTabIndex();\n    $('.gallery-slider').on('afterChange', function(\n      event,\n      slick,\n      currentSlide\n    ) {\n      updateTabIndex();\n    });\n\n    lastInput.on('keydown', function(e) {\n      if (e.which === 9) {\n        if (!e.shiftKey) {\n          e.preventDefault();\n          closeInput.focus();\n        }\n      }\n    });\n\n    firstInput.on('keydown', function(e) {\n      if (e.which === 9) {\n        if (e.shiftKey) {\n          e.preventDefault();\n          closeInput.focus();\n        }\n      }\n    });\n\n    closeInput.on('keydown', function(e) {\n      if (e.which === 9) {\n        e.preventDefault();\n\n        if (e.shiftKey) {\n          lastInput.focus();\n        } else {\n          firstInput.focus();\n        }\n      }\n    });\n\n    $(document).on('keydown', function(e) {\n      if (e.which === 27) {\n        $('.gallery-modal').remove();\n      } else if (e.which === 37) {\n        $('.gallery-slider').slick('slickPrev');\n      } else if (e.which === 39) {\n        $('.gallery-slider').slick('slickNext');\n      }\n    });\n\n    setTimeout(function() {\n      $('.gallery-slider .gallery-item.slick-active').focus();\n    }, 0);\n  }\n\n  function checkSliderLoaded(slider, callback) {\n    if ($(slider).length && $(slider).hasClass('slick-initialized')) {\n      callback();\n    } else {\n      setTimeout(checkSliderLoaded, 200);\n    }\n  }\n\n  function getTemplate(selector) {\n    return $('#' + selector)\n      .html()\n      .replace(/&lt;/g, '<')\n      .replace(/&gt;/g, '>')\n      .replace(/&amp;/g, '&');\n  }\n\n  function createModal(clickedEl, callback) {\n    var elements = $('.photo-gallery .photo-gallery-item');\n\n    var modal = $('<div class=\"gallery-modal\" role=\"dialog\" />');\n    modal.html(getTemplate('photo-gallery-template'));\n\n    var title = $('.photo-gallery').attr('data-gallery-title');\n    modal.find('.gallery-modal-title span').text(title);\n\n    var imgTemplate = getTemplate('photo-gallery-item-template');\n    var elementsSrc = [];\n\n    elements.each(function() {\n      var $element = $(this);\n      var $img = $element.find('img');\n      elementsSrc.push($img.attr('src'));\n\n      var el = $('<div class=\"gallery-item\" />');\n      el.html(imgTemplate);\n\n      var $elImg = el.find('img');\n      $elImg.attr({\n        src: $img.attr('src'),\n        alt: $img.attr('alt'),\n      });\n\n      var elTitle = $img.attr('alt');\n      el.find('.item-title h3').text(elTitle);\n\n      var elDescription = $img.attr('title');\n\n      if (elDescription && elDescription.length > 0) {\n        el.find('.item-title p').text(elDescription);\n      } else {\n        el.find('.item-title p').remove();\n      }\n\n      modal.find('.gallery-slider').append(el);\n    });\n\n    var initialSlide = elementsSrc.indexOf(clickedEl.src);\n    if (initialSlide < 0) initialSlide = 0;\n\n    modal.find('.gallery-modal-close').on('click', function() {\n      modal.remove();\n    });\n\n    $(document).on('click', function(e) {\n      if (!$(e.target).closest('.gallery-modal-wrapper').length) {\n        $(modal).remove();\n      }\n    });\n\n    $('body').append(modal);\n\n    if (callback) callback(initialSlide);\n  }\n\n  function createSlider(selector, initialSlide) {\n    $(document).on('init', selector, function() {\n      checkSliderLoaded(selector, function() {\n        modalAccessibility();\n      });\n    });\n\n    $(selector).slick({\n      dots: true,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      arrows: true,\n      accessibility: true,\n      adaptiveHeight: true,\n      initialSlide: initialSlide,\n    });\n  }\n\n  $(document).on('click', '.photo-gallery-item a', function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    createModal(e.target, function(initialSlide) {\n      createSlider('.gallery-slider', initialSlide);\n    });\n  });\n});\n\ndefine(\"js/integration.js\", function(){});\n\n"
  ]
}